{"version":3,"sources":["js/video.js"],"names":["findVideos","videos","document","querySelectorAll","i","length","setupVideo","video","link","querySelector","media","button","id","parseMediaURL","addEventListener","iframe","createIframe","remove","appendChild","removeAttribute","classList","add","match","src","createElement","setAttribute","generateURL"],"mappings":";AAAA,SAASA,IACHC,IAAAA,EAASC,SAASC,iBAAiB,UAElC,IAAA,IAAIC,EAAI,EAAGA,EAAIH,EAAOI,OAAQD,IACjCE,EAAWL,EAAOG,IAItB,SAASE,EAAWC,GACdC,IAAAA,EAAOD,EAAME,cAAc,gBAC3BC,EAAQH,EAAME,cAAc,iBAC5BE,EAASJ,EAAME,cAAc,kBAC7BG,EAAKC,EAAcH,GAEvBH,EAAMO,iBAAiB,QAAS,KAC1BC,IAAAA,EAASC,EAAaJ,GAE1BJ,EAAKS,SACLN,EAAOM,SACPV,EAAMW,YAAYH,KAGpBP,EAAKW,gBAAgB,QACrBZ,EAAMa,UAAUC,IAAI,kBAGtB,SAASR,EAAcH,GAKdY,OAHGZ,EAAMa,IACAD,MAFH,sEAIA,GAGf,SAASN,EAAaJ,GAChBG,IAAAA,EAASb,SAASsB,cAAc,UAO7BT,OALPA,EAAOU,aAAa,kBAAmB,IACvCV,EAAOU,aAAa,QAAS,YAC7BV,EAAOU,aAAa,MAAOC,EAAYd,IACvCG,EAAOK,UAAUC,IAAI,gBAEdN,EAGT,SAASW,EAAYd,GAGZ,MAAA,iCAAmCA,EAF9B,+BAKdZ","file":"video.8322844e.js","sourceRoot":"../src","sourcesContent":["function findVideos() {\n  let videos = document.querySelectorAll('.video');\n\n  for (let i = 0; i < videos.length; i++) {\n    setupVideo(videos[i]);\n  }\n}\n\nfunction setupVideo(video) {\n  let link = video.querySelector('.video__link');\n  let media = video.querySelector('.video__media');\n  let button = video.querySelector('.video__button');\n  let id = parseMediaURL(media);\n\n  video.addEventListener('click', () => {\n    let iframe = createIframe(id);\n\n    link.remove();\n    button.remove();\n    video.appendChild(iframe);\n  });\n\n  link.removeAttribute('href');\n  video.classList.add('video--enabled');\n}\n\nfunction parseMediaURL(media) {\n  let regexp = /https:\\/\\/i\\.ytimg\\.com\\/vi\\/([a-zA-Z0-9_-]+)\\/maxresdefault\\.jpg/i;\n  let url = media.src;\n  let match = url.match(regexp);\n\n  return match[1];\n}\n\nfunction createIframe(id) {\n  let iframe = document.createElement('iframe');\n\n  iframe.setAttribute('allowfullscreen', '');\n  iframe.setAttribute('allow', 'autoplay');\n  iframe.setAttribute('src', generateURL(id));\n  iframe.classList.add('video__media');\n\n  return iframe;\n}\n\nfunction generateURL(id) {\n  let query = '?rel=0&showinfo=0&autoplay=1';\n\n  return 'https://www.youtube.com/embed/' + id + query;\n}\n\nfindVideos();\n"]}